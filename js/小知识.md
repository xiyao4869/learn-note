##### :cherries: è§£æ„

```javascript
// ä¸ºnullæ—¶è§£æ„èµ‹é»˜è®¤å€¼ä¸ç”Ÿæ•ˆï¼Œ undefinedæ‰ç”Ÿæ•ˆ
var a = { b: null };
let { b: c = {} } = a;
c; // null
```

---

```javascript
// æŠŠä¸€ä¸ªå¯¹è±¡æ˜ å°„ä¸ºä¸€ä¸ªæ•°ç»„
var o1 = { a: 1, b: 2, c: 3 },
  a2 = [];
({ a: a2[0], b: a2[1], c: a2[2] } = o1);
console.log(a2); // [1,2,3]
```

---

```javascript
let { length: len, [len - 1]: last, 2: temp ...rest } = [6, 8, 9];

len // 3
last // 9
temp // 9
rest // { 0: 6, 1: 8 }
```

---

```javascript
// å¯¹è±¡çš„å‰©ä½™å±æ€§èµ‹å€¼æ—¶ï¼Œåªèµ‹å€¼è‡ªå·±çš„å±æ€§ï¼Œä¸èµ‹å€¼åŸå‹é“¾ä¸Šçš„å±æ€§
let { ...obj } = Object.create({ x: 1 });
console.log(obj.x); // undefined

let { x } = Object.create({ x: 1 });
console.log(x); // 1

let { x, y, ...z } = null;
console.log(z); // TypeError

// å¯¹è±¡ä¼šå¿½ç•¥ null å’Œ undefinedï¼Œæ•°ç»„ä¼šæŠ›å¼‚å¸¸ WTF
let emptyObject = { ...null, ...undefined }; // {}
let emptyArray = [...null, ...undefined]; // error

let x = { a: 1, b: 2 };
let y = [...x]; // TypeError: x is not iterable

let x = { a: 1, b: 2, length: 2 };
let y = [...x]; // TypeError: x is not iterable

// let o = { __proto__: null } å’Œ let o = Object.create(null) ä¸€æ ·ï¼Œéƒ½æ˜¯åˆ›å»ºä¸€ä¸ªçœŸæ­£çš„ç©ºå¯¹è±¡ï¼Œç›¸æ¯” let o = {}ï¼Œè¿™ä¸ªå¯¹è±¡æ²¡æœ‰åŸå‹é“¾
let x = { a: 1 };
let o = {
  __proto__: null,
  b: 2,
  ...x
};
console.log(o); // {a: 1, b: 2}
```

---

```javascript
// p èµ‹å€¼ä¸ºå¯¹è±¡ o çš„å¼•ç”¨
var o = { a: 1, b: 2, c: 3 },
  a,
  b,
  c,
  p;
p = { a, b, c } = o;
console.log(a, b, c); // 1 2 3
p === o; // true
```

---

```javascript
function f6({ x = 10 } = {}, { y } = { y: 10 }) {
  console.log(x, y);
}
f6(); // 10 10
f6(undefined, undefined); // 10 10
f6({}, undefined); // 10 10
f6({}, {}); // 10 undefined
f6(undefined, {}); // 10 undefined

f6({ x: 2 }, { y: 3 }); // 2   3
```

---

```javascript
// æ•°ç»„è§£æ„å¯ä»¥éƒ¨åˆ†æˆ–å®Œå…¨æ¶ˆè€—ä¸€ä¸ªè¿­ä»£å™¨
var a = [1, 2, 3, 4, 5];
var it = a[Symbol.iterator]();
// ä»itä¸­è·å–å‰ä¸¤ä¸ªå…ƒç´ 
var [x, y] = it;
// è·å–ç¬¬ä¸‰ä¸ªå…ƒç´ ï¼Œç„¶åä¸€æ¬¡å–å¾—å…¶ä½™æ‰€æœ‰å…ƒç´ 
var [z, ...w] = it;
// itè€—å°½
it.next(); // { value: undefined, done: true }
x; // 1
y; // 2
z; // 3
w; // [4,5]
```

---

```javascript
var defaults = {
  options: {
    remove: true,
    enable: false,
    instance: {}
  },
  log: {
    warn: true,
    error: true
  }
};

var config = {
  options: {
    remove: false,
    instance: null
  }
};


config.options = config.options || {};
config.log = config.log || {};
{
  options: {
    remove: config.options.remove = default.options.remove,
    enable: config.options.enable = default.options.enable,
    instance: config.options.instance = default.options.instance
  } = {},
  log: {
    warn: config.log.warn = default.log.warn,
    error: config.log.error = default.log.error
  } = {}
} = config;



// æŠŠ defaults åˆå¹¶è¿› config
{
// (å¸¦é»˜è®¤å€¼èµ‹å€¼çš„)è§£æ„
let {
  options: {
    remove = defaults.options.remove,
    enable = defaults.options.enable,
    instance = defaults.options.instance
  } = {},
  log: {
    warn = defaults.log.warn,
    error = defaults.log.error
  } = {}
} = config;
// é‡ç»„
config = {
  options: { remove, enable, instance },
  log: { warn, error }
};

}
```

##### :rainbow: é»˜è®¤å‚æ•°

```javascript
var w = 1,
  z = 2;
function foo(x = w + 1, y = x + 1, z = z + 1) {
  console.log(x, y, z);
}
foo(); // ReferenceError
```

---

```javascript
function ajax(url, cb = Function.prototype) {
  // ..
}
```

##### :cherry_blossom: å­—ç¬¦ä¸²æ¯”è¾ƒå¤§å°

```javascript
// æŒ‰å­—æ¯é¡ºåºæ¯”è¾ƒ
'12:00' < '9:30'; // true
'12:00' > '09:30'; // true
```

##### :four_leaf_clover: å˜é‡èµ‹å€¼

```javascript
// ä¸¥æ ¼æ¨¡å¼ä¼šæŠ¥é”™ b is not defined, éä¸¥æ ¼æ¨¡å¼ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªå…¨å±€å˜é‡b
'use strict';
var a = (b = 45);
```

##### :leaves: [] + {}

```javascript
[] + {}; // "[object Object]"  []å¼ºåˆ¶è½¬æ¢ä¸º"" {}å¼ºåˆ¶è½¬æ¢ä¸º"[object Object]"
{
}
+[]; // 0  {}è§£æä¸ºç©ºä»£ç å—  +[]è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢
```

##### :evergreen_tree: Event loop

```javascript
ï¼ˆ1ï¼‰å®ä»»åŠ¡: æ•´ä½“ä»£ç scriptã€setTimeoutã€setIntervalã€setImmediateã€I/O ã€UI rendering
ï¼ˆ2ï¼‰å¾®ä»»åŠ¡: åŸç”ŸPromiseã€process.nextTickã€MutationObserver(ç›‘è§† DOM å˜åŠ¨çš„æ¥å£)ã€process.nextTick,Object.observe

async function async1() {
  console.log('async1 start');

  await async2();

  console.log('async1 end');
}

async function async2() {
  console.log('async2');
}

console.log('script start');

setTimeout(function() {
  console.log('setTimeout');
}, 0);

async1();

new Promise(function(resolve) {
  console.log('promise1');

  resolve();
}).then(function() {
  console.log('promise2');
});

console.log('script end');

/*
     script start

     async1 start

     async2

     promise1

     script end

     promise2

     async1 end

     setTimeout
*/
```

##### :ear_of_rice: æ ‡ç­¾

```javascript
// æ ‡ç­¾ä¸ºbarçš„ä»£ç å—
function foo() {
  bar: {
    console.log('Hello');
    break bar;
    console.log('never runs');
  }
  console.log('World');
}
foo(); // Hello  World
```

##### :palm_tree: arguments

```javascript
// å‘å‡½æ•°ä¼ é€’å‚æ•°æ—¶ï¼Œarguments æ•°ç»„ä¸­çš„å¯¹åº”å•å…ƒä¼šå’Œå‘½åå‚æ•°å»ºç«‹å…³è”(linkage)ä»¥å¾—åˆ°ç›¸åŒçš„å€¼ã€‚ç›¸åï¼Œä¸ä¼ é€’å‚æ•°å°±ä¸ä¼šå»ºç«‹å…³è”ã€‚åœ¨ä¸¥æ ¼æ¨¡å¼ä¸­æ²¡æœ‰å»ºç«‹å…³è”ã€‚
function foo(a) {
  a = 42;
  console.log(arguments[0]);
}
foo(2); // 42 (linked)
foo(); // undefined (not linked)
```

##### :blossom: switch

```javascript
// æ‰¾ä¸åˆ°åŒ¹é…10çš„case æ‰§è¡Œdefault æ²¡æœ‰break  ç»§ç»­å¾€ä¸‹æ‰§è¡Œ ç›´åˆ°break
var a = 10;
switch (a) {
  case 1:
  case 2:
    console.log('12');
  case 3:
    console.log('3');
  default:
    console.log('default');
  case 4:
    console.log('4');
  case 5:
    console.log('5');
    break;
  case 6:
    console.log('6');
}
// default
// 4
// 5
```

##### :christmas_tree: getter setter

```javascript
// getter setter
var c = {
  _name: 'lucy',
  get fn() {
    console.log(this._name);
  },
  set fn(name) {
    this._name = name;
  }
};
c.fn; // lucy
c.fn = 'xiyao';
c.fn; // xiyao
```

##### :art: super

```javascript
// super åªå…è®¸åœ¨ç®€æ´æ–¹æ³•ä¸­å‡ºç°ï¼Œè€Œä¸å…è®¸åœ¨æ™®é€šå‡½æ•°è¡¨è¾¾å¼å±æ€§ä¸­å‡ºç°ã€‚ä¹Ÿåªå…è®¸ä»¥ super.XXX çš„å½¢å¼(ç”¨äºå±æ€§ / æ–¹æ³•è®¿é—®)å‡ºç°ï¼Œè€Œä¸èƒ½ä»¥ super() çš„å½¢å¼å‡ºç°ã€‚
var o1 = {
  foo() {
    console.log('o1:foo');
  }
};
var o2 = {
  foo() {
    super.foo();
    console.log('o2:foo');
  }
};
Object.setPrototypeOf(o2, o1);
o2.foo();
// o1:foo
// o2:foo
```

##### :strawberry: æ¨¡ç‰ˆå­—ç¬¦ä¸²

```javascript
// æ ‡ç­¾å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°åŒ…å«ä¸€ä¸ªå­—ç¬¦ä¸²å€¼çš„æ•°ç»„ã€‚å…¶ä½™çš„å‚æ•°ä¸è¡¨è¾¾å¼ç›¸å…³
function bar() {
  return function foo(strings, ...values) {
    console.log(strings);
    console.log(values);
  };
}
var desc = 'awesome';
bar()`Everything is ${desc}!`;
// [ "Everything is ", "!"]
// [ "awesome" ]
```

---

```javascript
function tag(str) {
  return str[0].toUpperCase();
}

tag`xiyao`; // XIYAO
```

---

```javascript
// ECMAScript 2018 ç§»é™¤äº†å¸¦æ ‡ç­¾çš„æ¨¡ç‰ˆå­—ç¬¦ä¸²ä¸­è½¬ä¹‰åºåˆ—çš„è¯­æ³•é™åˆ¶ã€‚å¯¹äºéæ³•çš„è½¬ä¹‰åºåˆ—(Unicodeã€äºŒå…­è¿›åˆ¶ã€å…«è¿›åˆ¶)è¿”å› undefined
function tag(str) {
  return str[0];
}

tag`\unicode`; // undefined
```

##### :grapes: æ­£åˆ™

```javascript
// å®šç‚¹æ¨¡å¼æ­£åˆ™è¡¨è¾¾å¼, åªä»æ­£åˆ™è¡¨è¾¾å¼çš„ lastIndex å±æ€§æŒ‡å®šçš„ä½ç½®å¼€å§‹åŒ¹é…
var re2 = /foo/y, // <-- æ³¨æ„å®šç‚¹æ ‡è¯†y
  str = '++foo++';
re2.lastIndex; // 0
re2.test(str); // false--0å¤„æ²¡æœ‰æ‰¾åˆ°"foo"
re2.lastIndex; // 0
re2.lastIndex = 2;
re2.test(str); // true
re2.lastIndex; // 5--æ›´æ–°åˆ°å‰æ¬¡åŒ¹é…ä¹‹åä½ç½®
re2.test(str); // false
re2.lastIndex; // 0--å‰æ¬¡åŒ¹é…å¤±è´¥åé‡ç½®
```

---

```javascript
var gclef = '\u{1D11E}';
console.log(gclef); //ğ„
```

---

```javascript
// åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ . å¯ä»¥åŒ¹é…æ¢è¡Œç¬¦ä»¥å¤–çš„ä»»æ„å­—ç¬¦ï¼Œæ¢è¡Œç¬¦åŒ…æ‹¬ \nã€ \rã€ \u{2028}ã€ \u{2029}ã€‚ è¿˜æœ‰ä¸€äº›å…¶å®ƒå­—ç¬¦ï¼Œè™½ç„¶ä¹Ÿå¯ä»¥ä½œä¸ºä¸€è¡Œçš„å¼€å§‹ï¼Œä½†æ˜¯ . å¯ä»¥åŒ¹é…ï¼ŒåŒ…æ‹¬ \vã€ \fã€ \u{0085}ã€‚ ES2018 ä¸ºæ­£åˆ™è¡¨è¾¾å¼å¢åŠ äº† s/dotAll æ ‡å¿—ï¼Œå¯ä»¥è®© . åŒ¹é…ä»»æ„å­—ç¬¦ï¼Œæ‰€ä»¥ let regex = /./s å¯ä»¥ä½¿ä»¥ä¸‹ä»£ç éƒ½è¿”å› trueã€‚
let regex = /./;

regex.test('\n'); // false
regex.test('\r'); // false
regex.test('\v'); // true
regex.test('\f'); // true
regex.test('\u{2028}'); // false
regex.test('\u{2029}'); // false
regex.test('\u{0085}'); // true
```

---

```javascript
// ä½¿ç”¨ let regex = /^.$/u  ç»“æœ true true
// 'ğŸ˜€' length ä¸º2   4ä¸ªå­—èŠ‚
let regex = /^.$/;

regex.test('é“'); // true
regex.test('ğŸ˜€'); // false
```

##### :lemon: Symbol

```javascript
var sym = Symbol('hello');
sym instanceof Symbol; // false
sym = Object(sym);
sym instanceof Symbol; // true

var s = Symbol.for('something cool');
var desc = Symbol.keyFor(s);
console.log(desc); // "something cool"
// å†æ¬¡ä»æ³¨å†Œä¸­å–å¾—ç¬¦å·
var s2 = Symbol.for(desc);
s2 === s; // true

// å–å¾—å¯¹è±¡çš„ç¬¦å·å±æ€§
Object.getOwnPropertySymbols(obj);
```

##### :peach: æ·±æ‹·è´

```javascript
// â€¢ ä¼šå¿½ç•¥ undefined
// â€¢ ä¸èƒ½åºåˆ—åŒ–å‡½æ•°
// â€¢ ä¸èƒ½è§£å†³å¾ªç¯å¼•ç”¨çš„å¯¹è±¡
let a = {
  age: undefined,
  jobs: function() {},
  name: 'xiyao'
};
let b = JSON.parse(JSON.stringify(a));
console.log(b); // {name: "xiyao"}
```

---

```javascript
function deepCopy(source) {
  let target = Array.isArray(source) ? [] : {};
  for (let k in source) {
    if (source.hasOwnProperty(k)) {
      if (typeof source[k] === 'object') {
        target[k] = deepCopy(source[k]);
      } else {
        target[k] = source[k];
      }
    }
  }
  return target;
}
```

##### :bread: æ— é™ç´¯åŠ 

```javascript
// console.log æˆ– alert ä¸€ä¸ªå‡½æ•°æ—¶ä¼šè°ƒç”¨ toString æ–¹æ³•
function add(a) {
    function sum(b) { // ä½¿ç”¨é—­åŒ…
        a = a + b; // ç´¯åŠ 
        return sum;
     }
     sum.toString = function() { // é‡å†™toString()æ–¹æ³•
        return a;
    }
     return sum; // è¿”å›ä¸€ä¸ªå‡½æ•°
}

typeof add(1) // function
add(1); // 1
add(1)(2);  // 3
add(1)(2)(3)ï¼› // 6
add(1)(2)(3)(4)ï¼› // 10
```

##### :cherries: for..of å¾ªç¯çš„ç­‰ä»· for å½¢å¼

```javascript
// æ‰€ä»¥è¦ç­‰æ‰€æœ‰çš„å€¼éƒ½è¿”å›å, done æ‰ä¸º false, ä¸ç„¶æœ€åä¸€ä¸ªå€¼ä¼šè¢«ä¸¢å¼ƒ
for (var v, res; (res = it.next()) && !res.done; ) {
  v = res.value;
  console.log(v);
}
```

##### :corn: class Foo vs function Foo

```javascript
class Foo(){}  // ä¸ä¼šæå‡ åªèƒ½newè°ƒç”¨ ä¸ä¼šåˆ›å»ºåŒåçš„å…¨å±€å¯¹è±¡å±æ€§
function Foo(){} // ä¼šæå‡ ä¼šåˆ›å»ºwindow.Foo
```

##### :peach: es5 æ‰©å±•æ•°ç»„

:cherries::cherries: å…³äº es5 ä¸èƒ½å®Œç¾å®ç°æ•°ç»„ç»§æ‰¿ :cherries::cherries:
https://github.com/wengjq/Blog/issues/22
https://github.com/youngwind/blog/issues/85#issuecomment-284974136
https://github.com/MrErHu/blog/issues/29

es6 é‡Œé‡‡ç”¨ extends å…³é”®å­—å¯ä»¥å®ç°ç»§æ‰¿ï¼Œæ˜¯å› ä¸ºå…ˆæ‰§è¡Œçš„ super(), ä¹Ÿå°±æ˜¯çˆ¶ç±»æ„é€ å‡½æ•°æ¥åˆå§‹åŒ– thisï¼Œå†ç»™ this è®¾ç½®ç›¸å…³å±æ€§ï¼Œè€Œ es5 ä¸­æ˜¯å…ˆåˆ›å»ºçš„ thisï¼Œç„¶åå€Ÿç”¨æ„é€ å‡½æ•°å»ä¿®æ”¹ï¼Œè€Œå€Ÿç”¨æ„é€ æ–¹å¼çš„æ–¹æ³•æ— æ³•åˆ›å»ºåŠ¨æ€ length

```javascript
function SubArray() {
  // æ­¤å¤„å¦‚æœæ”¹ä¸º return Array.apply(this, arguments); è¿”å›çš„å°†ä¼šæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä½†æ˜¯å®ƒçš„åŸå‹å°±æ˜¯Array.prototypeå¹¶ä¸æ˜¯SubArray.prototypeï¼Œ è€Œä¸”åŸæœ¬é‡‡ç”¨Array.apply(this, arguments);æ˜¯ä¸ºäº†å€Ÿç”¨æ„é€ å‡½æ•°å»åˆå§‹åŒ–ä¸€äº›å±æ€§
  Array.apply(this, arguments);
}
SubArray.prototype = new Array();
SubArray.prototype.last = function() {
  return this[this.length - 1];
};
var sub = new SubArray(1, 2, 3); // è¿”å›çš„subä¸ºä¸€ä¸ªå¯¹è±¡  Arrayæ„é€ å‡½æ•°æ‰§è¡Œæ—¶ä¸ä¼šå¯¹ä¼ è¿›å»çš„thisåšä»»ä½•å¤„ç†ã€‚ä¸æ­¢Arrayï¼ŒString,Number,Regexp,Objectç­‰ç­‰JSçš„å†…ç½®ç±»éƒ½ä¸è¡Œã€‚Object.apply({a:'1'})è·Ÿä½ æ‰§è¡ŒObject()å¾—åˆ°çš„å¯¹è±¡ä¸€æ ·
Array.isArray(sub); //false
```

================== :cherries::cherries: ===================

```javascript
function SubArray() {
  this.push.apply(this, arguments);
}
SubArray.prototype = new Array();
SubArray.prototype.last = function() {
  return this[this.length - 1];
};
var sub = new SubArray(1, 2, 3);
Array.isArray(sub); //false
sub[9] = 45;
sub.length; // 3    lengthé•¿åº¦ä¸ä¼šè‡ªåŠ¨å˜åŒ–
```

================== :cherries::cherries: ============================

```javascript
// æ­£ç¡®æ–¹æ³•
function SubArray() {
  var arr = [];
  arr.push.apply(arr, arguments);
  arr.__proto__ = SubArray.prototype;
  return arr;
}
SubArray.prototype = new Array();
SubArray.prototype.last = function() {
  return this[this.length - 1];
};

var sub = new SubArray(1, 2, 3);

sub instanceof SubArray; // true
sub instanceof Array; // true
```

##### :watermelon: es6 æ„é€ å‡½æ•°

```javascript
// é»˜è®¤å­ç±»æ„é€ å™¨è‡ªåŠ¨è°ƒç”¨çˆ¶ç±»çš„æ„é€ å™¨å¹¶ä¼ é€’æ‰€æœ‰å‚æ•°;
constructor(...args) {
  super(...args);
}
```

```javascript
// this å¯¹è±¡æ˜¯ç”±â€œå­ç±»æ„é€ å™¨â€åˆ›å»ºçš„
function Foo() {
  this.a = 1;
}

function Bar() {
  this.b = 2;
  Foo.call(this);
}
// `Bar` "extends" `Foo`
Bar.prototype = Object.create(Foo.prototype);

=========== vs =============
// å­ç±»æ„é€ å™¨ä¸­è°ƒç”¨ super(..) ä¹‹åæ‰èƒ½è®¿é—® this

class Foo {
  constructor() {
    this.a = 1;
  }
}
class Bar extends Foo {
  constructor() {
    super();
    this.b = 2; // ä¸å…è®¸åœ¨super()ä¹‹å‰
  }
}
```

##### :lemon: åˆ©ç”¨ extends æ‰©å±•åŸç”Ÿç±»

```javascript
class MyCoolArray extends Array {
  first() {
    return this[0];
  }
  last() {
    return this[this.length - 1];
  }
}
var a = new MyCoolArray(1, 2, 3);
a.length; // 3
a; // [1, 2, 3];
a.first(); // 1
a.last(); // 3

class Oops extends Error {
  constructor(reason) {
    this.oops = reason;
  }
}
// ä¹‹å:
var ouch = new Oops('I messed up!');
throw ouch;
```

##### :green_apple: static å±æ€§

```javascript
class Foo {
  static cool() {
    console.log('cool');
  }
  wow() {
    console.log('wow');
  }
}
class Bar extends Foo {
  static awesome() {
    super.cool();
    console.log('awesome');
  }
  neat() {
    super.wow();
    console.log('neat');
  }
}
Foo.cool(); // cool

// æ³¨æ„ ï¼ï¼ï¼
Bar.cool(); // cool

Bar.awesome(); // cool  awesome
var b = new Bar();
b.neat(); // wow neat
b.awesome; // undefined
b.cool; // undefined
```

##### :rainbow: URLSearchParams

```javascript
const str = 'name=xiyao&age=24';
const search = new URLSearchParams(str);
console.log(search.get('name')); // xiyao
```

##### :cherries: æ‰å¹³åŒ–æ•°ç»„

```javascript
// æ–¹å¼ä¸€
var arr = [1, [3, 4], 6];
function flatten(arr) {
  return arr.reduce((acc, item) => {
    return acc.concat(Array.isArray(item) ? flatten(item) : item);
  }, []);
}

// æ–¹å¼äºŒ
function flatten(arr) {
  while (arr.some(item => Array.isArray(item))) {
    arr = [].concat(...arr);
  }
  return arr;
}

// æ–¹å¼ä¸‰
const flatten = arr =>
  Array.isArray(arr)
    ? arr.reduce((a, b) => [...flatten(a), ...flatten(b)], [])
    : [arr];
```

##### :beers: ç”ŸæˆæŒ‡å®šæ•°ç»„

```javascript
// ç”Ÿæˆé•¿åº¦ä¸º 100, å€¼ç­‰äºç´¢å¼•çš„æ•°ç»„

Object.keys(Array.from({ length: 100 }));
Object.keys(Array.apply(null, { length: 100 }));

Array.from(new Array(100).keys());
[...Array(100).keys()]
[...Array.from({ length: 100 }).keys()]

// ä¸ç”¨å¾ªç¯, ç”Ÿæˆé•¿åº¦ä¸º m å€¼éƒ½ä¸º n çš„æ•°ç»„
function fn(m,n){
  let arr = [];
  return (function getArr(){
    if(arr.length === m) return arr;
    arr.push(n);
    return getArr();
  })();
}

new Array(m).fill(n);

// map ä¼šè·³è¿‡å€¼ä¸ºemptyçš„é¡¹
Array.from({length: m}).map(v => n);
Array.from(Array(m)).map(v => n);
[...Array(m)].map(v => n);

new Array(m+1).join(n).split('') //ç”Ÿæˆçš„æ˜¯å­—ç¬¦ä¸²
```

##### :corn: new è°ƒç”¨

```javascript
function Foo() {
  console.log(this);
  return this;
}
Foo.getName = function() {
  console.log('1');
};
Foo.prototype.getName = function() {
  console.log('2');
};
new Foo.getName(); // -> 1  ç­‰åŒäº new (Foo.getName())
new Foo().getName(); // -> 2
```

##### :green_apple: è‡ªå®šä¹‰ instanceof

```javascript
function instance(left, right) {
  // è·å¾—ç±»å‹çš„åŸå‹
  let prototype = right.prototype;
  // è·å¾—å¯¹è±¡çš„åŸå‹
  left = left.__proto__;
  // åˆ¤æ–­å¯¹è±¡çš„ç±»å‹æ˜¯å¦ç­‰äºç±»å‹çš„åŸå‹
  while (true) {
    if (left === null) return false;
    if (prototype === left) return true;
    left = left.__proto__;
  }
}
```

##### :tangerine: å‡½æ•°å£°æ˜ä¸å˜é‡å£°æ˜

```javascript
function b() {
  console.log('call b fist');
}
function b() {
  console.log('call b second');
}
var b;
b = 88;
console.log(b); // 88
```

```javascript
function b() {
  console.log('call b fist');
}
function b() {
  console.log('call b second');
}
var b;
console.log(b); // b(){ console.log('call b second');}
```

##### :grapes: é˜²æŠ–ä¸èŠ‚æµ

```javascript
// é˜²æŠ–åŠ¨æ˜¯å°†å¤šæ¬¡æ‰§è¡Œå˜ä¸ºæœ€åä¸€æ¬¡æ‰§è¡Œï¼ŒèŠ‚æµæ˜¯å°†å¤šæ¬¡æ‰§è¡Œå˜æˆæ¯éš”ä¸€æ®µæ—¶é—´æ‰§è¡Œ
// http://demo.nimius.net/debounce_throttle/

// é˜²æŠ–
function debounce(func, delay) {
  let timeout;
  return function() {
    if (timeout) clearTimeout(timeout);
    let context = this,
      args = arguments;
    timeout = setTimeout(function() {
      func.apply(context, args);
    }, delay);
  };
}

// èŠ‚æµ
function throttle(fn, threshhold = 300) {
  let timeout,
    start = new Date();
  return function() {
    let context = this,
      args = arguments,
      curr = new Date() - 0;
    if (timeout) clearTimeout(timeout);
    if (curr - start >= threshhold) {
      fn.apply(context, args);
      start = curr;
    } else {
      //è®©æ–¹æ³•åœ¨è„±ç¦»äº‹ä»¶åä¹Ÿèƒ½æ‰§è¡Œä¸€æ¬¡
      timeout = setTimeout(function() {
        fn.apply(context, args);
      }, threshhold);
    }
  };
}
```

##### :cherries: callã€applyã€bind

```javascript
Function.prototype.myCall = function(context = window) {
  context.fn = this;
  let args = [...arguments].slice(1);
  let result = context.fn(...args);
  delete context.fn;
  return result;
};

Function.prototype.myApply = function(context = window) {
  context.fn = this;
  let result;
  if (arguments[1]) {
    result = context.fn(...arguments[1]);
  } else {
    result = context.fn();
  }
  delete context.fn;
  return result;
};

Function.prototype.myBind = function(context) {
  if (typeof this !== 'function') {
    throw new TypeError('Error');
  }
  let _this = this;
  let args = [...arguments].slice(1);
  return function F() {
    // å› ä¸ºè¿”å›äº†ä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ new F()ï¼Œæ‰€ä»¥éœ€è¦åˆ¤æ–­
    if (this instanceof F) {
      return new _this(...args, ...arguments);
    }
    return _this.apply(context, args.concat(...arguments));
  };
};
```

##### :lemon: 0.1 + 0.2

```javascript
parseFloat((0.1 + 0.2).toFixed(10));
```

##### åªå­˜åœ¨ä¸€æ¬¡çš„æ•°å­—

```javascript
// ä¸¤ä¸ªç›¸åŒçš„æ•°å­—è¿›è¡Œå¼‚æˆ–æ“ä½œä¸º0
// 0å’Œä»»ä½•ä¸€ä¸ªæ•°å­—å¼‚æˆ–è¿”å›æ•°å­—æœ¬èº«
function singleNumber(arr) {
  for (let i = 1; i < arr.length; i++) {
    arr[0] ^= arr[i];
  }
  return arr[0];
}
singleNumber([2, 2, 1, 4, 4, 5, 5, 1, 8, 8, 45]);
```
